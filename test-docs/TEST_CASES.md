# Email Assist 测试用例文档

## 1. 文档信息

**文档版本**: 1.0  
**创建日期**: 2024-01-15  
**最后更新**: 2024-01-15  
**负责人**: TestManager Agent  
**审核状态**: 待审核  

---

## 2. 测试用例分类

### 2.1 用例编号规则
- **TC-[模块]-[类型]-[序号]**
- 模块: AUTH(认证), DASHBOARD(仪表板), ANALYSIS(分析), FILTER(过滤), REPORT(报告), WORKFLOW(工作流), SETTINGS(设置)
- 类型: UI(界面), API(接口), E2E(端到端), PERF(性能), SEC(安全), A11Y(可访问性)
- 序号: 001-999

### 2.2 优先级定义
- **P0**: 核心功能，阻塞发布
- **P1**: 重要功能，影响用户体验
- **P2**: 一般功能，可延后修复
- **P3**: 边缘功能，影响较小

### 2.3 执行类型
- **Auto**: 自动化执行
- **Manual**: 手动执行
- **Semi**: 半自动化执行

---

## 3. 用户认证模块 (AUTH)

### 3.1 用户登录功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-AUTH-UI-001 | 用户成功登录 | P0 | Auto | 1. 用户账户存在<br>2. 账户状态正常 | 1. 打开登录页面<br>2. 输入有效邮箱和密码<br>3. 点击登录按钮 | 1. 跳转到仪表板页面<br>2. 显示用户头像和姓名<br>3. 菜单项正确加载 | 核心功能 |
| TC-AUTH-UI-002 | 无效邮箱格式验证 | P0 | Auto | 1. 打开登录页面 | 1. 输入无效邮箱格式<br>2. 输入有效密码<br>3. 尝试登录 | 1. 邮箱输入框显示错误提示<br>2. 登录按钮保持禁用状态<br>3. 不发送登录请求 | 客户端验证 |
| TC-AUTH-UI-003 | 错误凭据处理 | P0 | Auto | 1. 打开登录页面 | 1. 输入不存在的邮箱<br>2. 输入任意密码<br>3. 点击登录按钮 | 1. 显示"用户名或密码错误"提示<br>2. 保持在登录页面<br>3. 清空密码字段 | 安全考虑 |
| TC-AUTH-UI-004 | 空字段提交验证 | P0 | Auto | 1. 打开登录页面 | 1. 保持邮箱和密码为空<br>2. 点击登录按钮 | 1. 邮箱和密码字段显示必填提示<br>2. 字段边框变红<br>3. 不提交表单 | 表单验证 |
| TC-AUTH-UI-005 | 记住登录状态 | P1 | Auto | 1. 打开登录页面 | 1. 输入有效凭据<br>2. 勾选"记住我"选项<br>3. 登录成功<br>4. 关闭浏览器<br>5. 重新打开页面 | 1. 用户状态保持登录<br>2. 直接跳转到仪表板<br>3. Token在有效期内保持 | 用户体验 |

### 3.2 用户注销功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-AUTH-UI-006 | 用户主动注销 | P0 | Auto | 1. 用户已登录 | 1. 点击用户头像菜单<br>2. 点击"退出登录"<br>3. 确认注销 | 1. 跳转到登录页面<br>2. 清除用户session<br>3. 清除本地存储的认证信息 | 核心功能 |
| TC-AUTH-UI-007 | Session过期处理 | P0 | Manual | 1. 用户已登录<br>2. Session接近过期 | 1. 等待session过期<br>2. 尝试访问需要认证的页面 | 1. 自动跳转到登录页面<br>2. 显示"登录已过期"提示<br>3. 保留跳转前的页面地址 | 安全机制 |

### 3.3 密码重置功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-AUTH-UI-008 | 密码重置申请 | P1 | Auto | 1. 用户账户存在 | 1. 点击"忘记密码"链接<br>2. 输入注册邮箱<br>3. 点击"发送重置链接" | 1. 显示"已发送重置邮件"提示<br>2. 邮箱收到重置链接<br>3. 重置链接有效期24小时 | 找回机制 |
| TC-AUTH-UI-009 | 密码重置执行 | P1 | Manual | 1. 收到有效的重置链接 | 1. 点击邮件中的重置链接<br>2. 输入新密码<br>3. 确认新密码<br>4. 提交重置 | 1. 显示密码重置成功<br>2. 跳转到登录页面<br>3. 新密码可以正常登录 | 安全更新 |

---

## 4. 仪表板模块 (DASHBOARD)

### 4.1 数据展示功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-DASHBOARD-UI-001 | 邮件统计卡片显示 | P0 | Auto | 1. 用户已登录<br>2. 系统中有邮件数据 | 1. 访问仪表板页面<br>2. 检查统计卡片 | 1. 显示总邮件数量<br>2. 显示紧急邮件数量<br>3. 显示已处理邮件数量<br>4. 数字准确无误 | 核心展示 |
| TC-DASHBOARD-UI-002 | 邮件趋势图表加载 | P0 | Auto | 1. 用户已登录<br>2. 有历史邮件数据 | 1. 访问仪表板页面<br>2. 等待图表加载 | 1. 趋势图正常渲染<br>2. X轴显示时间范围<br>3. Y轴显示邮件数量<br>4. 悬停显示具体数值 | 数据可视化 |
| TC-DASHBOARD-UI-003 | 情感分析饼图展示 | P0 | Auto | 1. 用户已登录<br>2. 邮件已完成分析 | 1. 访问仪表板页面<br>2. 查看情感分析图表 | 1. 饼图正常显示<br>2. 显示正面、负面、中性比例<br>3. 图例清晰标注<br>4. 百分比计算正确 | AI分析结果 |
| TC-DASHBOARD-UI-004 | 实时数据更新 | P1 | Auto | 1. 用户已登录<br>2. 有新邮件接收 | 1. 保持仪表板页面打开<br>2. 模拟新邮件到达<br>3. 观察数据变化 | 1. 统计数字自动更新<br>2. 图表数据同步刷新<br>3. 更新动画流畅 | 实时性 |
| TC-DASHBOARD-UI-005 | 空数据状态展示 | P2 | Auto | 1. 用户已登录<br>2. 系统无邮件数据 | 1. 访问仪表板页面 | 1. 显示空状态插图<br>2. 提示"暂无邮件数据"<br>3. 提供"导入邮件"按钮 | 用户引导 |

### 4.2 响应式设计

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-DASHBOARD-UI-006 | 移动端布局适配 | P1 | Auto | 1. 用户已登录 | 1. 调整浏览器窗口到375px宽度<br>2. 访问仪表板页面 | 1. 卡片垂直排列<br>2. 图表适配小屏幕<br>3. 导航菜单收缩为汉堡菜单<br>4. 文字大小合适 | 移动适配 |
| TC-DASHBOARD-UI-007 | 平板端布局适配 | P1 | Auto | 1. 用户已登录 | 1. 调整浏览器窗口到768px宽度<br>2. 访问仪表板页面 | 1. 卡片两列排列<br>2. 侧边栏保持可见<br>3. 图表尺寸合适<br>4. 触摸友好的控件大小 | 平板适配 |

---

## 5. AI分析模块 (ANALYSIS)

### 5.1 邮件分析功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-ANALYSIS-API-001 | 单个邮件分析 | P0 | Auto | 1. 用户已登录<br>2. 有有效的OpenAI API密钥 | 1. 发送邮件分析请求<br>2. 包含邮件内容、发件人、主题 | 1. 返回情感分析结果<br>2. 返回优先级评估<br>3. 返回关键词提取<br>4. 置信度分数 > 0.7 | 核心AI功能 |
| TC-ANALYSIS-API-002 | 批量邮件分析 | P0 | Auto | 1. 用户已登录<br>2. 有多封待分析邮件 | 1. 发送批量分析请求<br>2. 包含多个邮件对象 | 1. 返回每个邮件的分析结果<br>2. 批量处理时间 < 30秒<br>3. 部分失败不影响整体 | 批处理能力 |
| TC-ANALYSIS-API-003 | 紧急邮件识别 | P0 | Auto | 1. 用户已登录 | 1. 分析包含紧急关键词的邮件<br>2. 如"URGENT"、"ASAP"、"紧急" | 1. 优先级标记为"高"<br>2. 情感分析倾向负面/中性<br>3. 关键词提取包含紧急词汇 | 业务逻辑 |
| TC-ANALYSIS-API-004 | 大邮件内容处理 | P1 | Auto | 1. 用户已登录 | 1. 分析超过10KB的邮件内容<br>2. 包含长篇文本 | 1. 成功处理大内容<br>2. 分析时间 < 10秒<br>3. 关键信息不丢失 | 性能测试 |
| TC-ANALYSIS-API-005 | 特殊字符处理 | P1 | Auto | 1. 用户已登录 | 1. 分析包含特殊字符的邮件<br>2. 包含emoji、中文、符号 | 1. 正确处理多语言内容<br>2. 特殊字符不影响分析<br>3. 返回结果格式正确 | 国际化支持 |

### 5.2 分析结果展示

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-ANALYSIS-UI-001 | 情感分析结果显示 | P0 | Auto | 1. 邮件已完成分析 | 1. 访问AI分析页面<br>2. 查看邮件情感分析 | 1. 显示情感标签(正面/负面/中性)<br>2. 显示置信度分数<br>3. 用颜色区分不同情感<br>4. 提供详细解释 | 结果展示 |
| TC-ANALYSIS-UI-002 | 优先级排序展示 | P0 | Auto | 1. 多封邮件已分析 | 1. 访问AI分析页面<br>2. 查看优先级排序 | 1. 邮件按优先级排列<br>2. 高优先级在顶部<br>3. 显示优先级标签<br>4. 支持手动调整 | 业务价值 |
| TC-ANALYSIS-UI-003 | 关键词云展示 | P1 | Auto | 1. 邮件已完成关键词提取 | 1. 访问AI分析页面<br>2. 查看关键词云 | 1. 关键词按重要性大小显示<br>2. 颜色表示不同类别<br>3. 点击关键词可筛选<br>4. 动态交互效果 | 可视化 |

---

## 6. 过滤规则模块 (FILTER)

### 6.1 规则创建功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-FILTER-UI-001 | 基础过滤规则创建 | P0 | Auto | 1. 用户已登录<br>2. 有创建规则权限 | 1. 点击"创建规则"按钮<br>2. 设置规则名称<br>3. 添加过滤条件<br>4. 设置执行动作<br>5. 保存规则 | 1. 规则创建成功<br>2. 显示在规则列表<br>3. 状态为"已激活"<br>4. 自动应用到新邮件 | 核心功能 |
| TC-FILTER-UI-002 | 复杂条件规则创建 | P0 | Auto | 1. 用户已登录 | 1. 创建新规则<br>2. 添加多个AND条件<br>3. 添加OR条件组<br>4. 设置优先级 | 1. 支持复杂逻辑组合<br>2. 条件关系清晰显示<br>3. 逻辑运算正确<br>4. 预览匹配邮件数量 | 高级功能 |
| TC-FILTER-UI-003 | 规则模板使用 | P1 | Auto | 1. 用户已登录<br>2. 系统提供预置模板 | 1. 选择规则模板<br>2. 自定义模板参数<br>3. 保存应用 | 1. 模板正确应用<br>2. 参数替换准确<br>3. 快速创建规则 | 用户体验 |

### 6.2 规则管理功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-FILTER-UI-004 | 规则启用禁用 | P0 | Auto | 1. 存在已创建的规则 | 1. 在规则列表中<br>2. 切换规则开关状态<br>3. 确认操作 | 1. 规则状态正确更新<br>2. 禁用规则不再执行<br>3. 启用规则立即生效 | 状态管理 |
| TC-FILTER-UI-005 | 规则编辑修改 | P0 | Auto | 1. 存在已创建的规则 | 1. 点击编辑规则<br>2. 修改规则条件<br>3. 更新执行动作<br>4. 保存修改 | 1. 修改内容正确保存<br>2. 历史版本记录<br>3. 修改后规则正确执行 | 版本控制 |
| TC-FILTER-UI-006 | 规则删除功能 | P1 | Auto | 1. 存在已创建的规则 | 1. 选择要删除的规则<br>2. 点击删除按钮<br>3. 确认删除操作 | 1. 规则从列表移除<br>2. 相关数据清理<br>3. 不再应用到邮件 | 数据清理 |
| TC-FILTER-UI-007 | 规则执行统计 | P1 | Auto | 1. 规则已运行一段时间 | 1. 查看规则详情<br>2. 检查执行统计 | 1. 显示匹配邮件数量<br>2. 显示执行成功率<br>3. 显示执行时间统计 | 效果评估 |

---

## 7. 报告模块 (REPORT)

### 7.1 报告生成功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-REPORT-UI-001 | 基础统计报告生成 | P0 | Auto | 1. 用户已登录<br>2. 系统有邮件数据 | 1. 选择报告类型<br>2. 设置时间范围<br>3. 选择统计维度<br>4. 生成报告 | 1. 报告成功生成<br>2. 数据统计准确<br>3. 图表清晰展示<br>4. 生成时间 < 30秒 | 核心功能 |
| TC-REPORT-UI-002 | 自定义报告创建 | P0 | Auto | 1. 用户已登录 | 1. 选择自定义报告<br>2. 拖拽选择数据字段<br>3. 设置筛选条件<br>4. 选择图表类型<br>5. 预览并生成 | 1. 支持灵活的报告配置<br>2. 实时预览效果<br>3. 图表类型适配数据<br>4. 配置可保存复用 | 高级功能 |
| TC-REPORT-UI-003 | 定时报告设置 | P1 | Auto | 1. 用户已登录<br>2. 报告模板已创建 | 1. 设置报告定时规则<br>2. 配置接收人邮箱<br>3. 选择报告格式<br>4. 启用定时任务 | 1. 定时任务正确创建<br>2. 按时发送报告<br>3. 邮件格式正确<br>4. 支持暂停和修改 | 自动化 |

### 7.2 报告导出功能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-REPORT-UI-004 | PDF报告导出 | P0 | Auto | 1. 报告已生成 | 1. 点击导出按钮<br>2. 选择PDF格式<br>3. 设置导出选项<br>4. 确认导出 | 1. 生成PDF文件<br>2. 格式布局正确<br>3. 图表清晰显示<br>4. 文件大小合理 | 文档输出 |
| TC-REPORT-UI-005 | Excel数据导出 | P0 | Auto | 1. 报告已生成 | 1. 点击导出按钮<br>2. 选择Excel格式<br>3. 选择数据表<br>4. 导出文件 | 1. 生成Excel文件<br>2. 数据完整准确<br>3. 格式易于阅读<br>4. 支持多个工作表 | 数据分析 |
| TC-REPORT-UI-006 | 图片格式导出 | P1 | Auto | 1. 图表报告已生成 | 1. 右键点击图表<br>2. 选择导出图片<br>3. 设置分辨率<br>4. 保存图片 | 1. 生成高质量图片<br>2. 支持PNG/JPG格式<br>3. 分辨率可选择<br>4. 图片清晰度良好 | 分享展示 |

---

## 8. 工作流模块 (WORKFLOW)

### 8.1 第三方集成

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-WORKFLOW-API-001 | Trello卡片创建 | P1 | Auto | 1. Trello集成已配置<br>2. API密钥有效 | 1. 选择邮件转为Trello卡片<br>2. 选择目标看板和列表<br>3. 设置卡片信息<br>4. 创建卡片 | 1. 在Trello中成功创建卡片<br>2. 卡片信息完整<br>3. 包含邮件链接<br>4. 设置正确的标签 | 工作流集成 |
| TC-WORKFLOW-API-002 | Jira问题创建 | P1 | Auto | 1. Jira集成已配置<br>2. 用户有创建问题权限 | 1. 选择邮件转为Jira问题<br>2. 选择项目和问题类型<br>3. 填写问题详情<br>4. 创建问题 | 1. 在Jira中成功创建问题<br>2. 问题信息准确<br>3. 关联邮件内容<br>4. 分配给正确人员 | 问题跟踪 |
| TC-WORKFLOW-API-003 | 自动化规则触发 | P1 | Auto | 1. 工作流规则已设置<br>2. 邮件匹配触发条件 | 1. 接收符合条件的邮件<br>2. 系统自动识别<br>3. 触发工作流动作 | 1. 自动创建外部任务<br>2. 发送通知消息<br>3. 更新邮件状态<br>4. 记录操作日志 | 自动化流程 |

### 8.2 工作流管理

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-WORKFLOW-UI-001 | 工作流创建配置 | P1 | Auto | 1. 用户已登录<br>2. 有配置权限 | 1. 创建新工作流<br>2. 设置触发条件<br>3. 配置执行动作<br>4. 测试工作流<br>5. 启用工作流 | 1. 工作流创建成功<br>2. 触发逻辑正确<br>3. 动作配置有效<br>4. 测试结果准确 | 配置管理 |
| TC-WORKFLOW-UI-002 | 工作流执行监控 | P1 | Manual | 1. 工作流已启用<br>2. 有执行记录 | 1. 查看工作流执行日志<br>2. 检查成功/失败统计<br>3. 查看错误详情 | 1. 执行状态清晰展示<br>2. 错误信息详细<br>3. 支持重试操作<br>4. 性能指标可见 | 监控运维 |

---

## 9. 设置模块 (SETTINGS)

### 9.1 用户配置

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-SETTINGS-UI-001 | 个人信息修改 | P1 | Auto | 1. 用户已登录 | 1. 访问设置页面<br>2. 修改姓名和头像<br>3. 更新联系信息<br>4. 保存修改 | 1. 信息更新成功<br>2. 界面实时刷新<br>3. 其他页面同步更新<br>4. 修改历史记录 | 个人资料 |
| TC-SETTINGS-UI-002 | 密码修改功能 | P0 | Auto | 1. 用户已登录 | 1. 访问安全设置<br>2. 输入当前密码<br>3. 输入新密码<br>4. 确认新密码<br>5. 提交修改 | 1. 密码修改成功<br>2. 当前session保持<br>3. 其他session失效<br>4. 发送安全通知邮件 | 安全更新 |
| TC-SETTINGS-UI-003 | 通知偏好设置 | P1 | Auto | 1. 用户已登录 | 1. 访问通知设置<br>2. 配置邮件通知偏好<br>3. 设置推送通知类型<br>4. 保存设置 | 1. 偏好设置保存<br>2. 通知行为按设置执行<br>3. 支持不同通知渠道<br>4. 实时生效 | 个性化 |

### 9.2 系统配置

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-SETTINGS-UI-004 | 邮件服务器配置 | P0 | Manual | 1. 管理员已登录 | 1. 配置IMAP服务器<br>2. 设置SMTP服务器<br>3. 测试连接<br>4. 保存配置 | 1. 连接测试成功<br>2. 配置信息加密存储<br>3. 邮件同步正常<br>4. 发送功能正常 | 核心配置 |
| TC-SETTINGS-UI-005 | AI服务配置 | P0 | Manual | 1. 管理员已登录<br>2. 有有效的API密钥 | 1. 配置OpenAI API<br>2. 设置分析参数<br>3. 测试API连接<br>4. 保存设置 | 1. API测试成功<br>2. 分析功能正常<br>3. 参数设置生效<br>4. 错误处理完善 | AI集成 |

---

## 10. 性能测试用例 (PERF)

### 10.1 前端性能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-PERF-UI-001 | 页面加载性能 | P0 | Auto | 1. 生产环境<br>2. 标准网络条件 | 1. 使用Lighthouse测试<br>2. 测试主要页面加载<br>3. 记录Core Web Vitals | 1. FCP < 1.8秒<br>2. LCP < 2.5秒<br>3. FID < 100ms<br>4. CLS < 0.1 | 用户体验 |
| TC-PERF-UI-002 | 大数据量渲染 | P1 | Auto | 1. 模拟1000+邮件数据 | 1. 加载大量邮件列表<br>2. 测试滚动性能<br>3. 测试筛选性能 | 1. 列表渲染流畅<br>2. 滚动无卡顿<br>3. 筛选响应 < 500ms<br>4. 内存使用合理 | 大数据处理 |

### 10.2 后端性能

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-PERF-API-001 | API响应性能 | P0 | Auto | 1. 测试环境<br>2. 标准数据量 | 1. 并发测试主要API<br>2. 记录响应时间<br>3. 监控资源使用 | 1. 95%请求 < 2秒<br>2. 99%请求 < 5秒<br>3. 错误率 < 0.1%<br>4. CPU使用 < 80% | API性能 |
| TC-PERF-API-002 | 数据库查询性能 | P1 | Auto | 1. 测试数据库<br>2. 10万+邮件记录 | 1. 测试复杂查询<br>2. 测试分页查询<br>3. 测试统计查询 | 1. 简单查询 < 100ms<br>2. 复杂查询 < 1秒<br>3. 分页查询 < 500ms<br>4. 统计查询 < 3秒 | 数据库性能 |
| TC-PERF-API-003 | AI分析性能 | P0 | Auto | 1. OpenAI API可用 | 1. 批量分析邮件<br>2. 测试不同内容长度<br>3. 监控API调用 | 1. 单个分析 < 5秒<br>2. 批量处理线性增长<br>3. API调用成功率 > 99%<br>4. 超时重试机制 | AI处理性能 |

---

## 11. 安全测试用例 (SEC)

### 11.1 认证安全

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-SEC-API-001 | SQL注入防护 | P0 | Auto | 1. 测试环境 | 1. 在输入框中输入SQL注入代码<br>2. 提交请求<br>3. 检查响应和日志 | 1. 请求被正确处理<br>2. 数据库未被操控<br>3. 输入被正确转义<br>4. 记录安全日志 | 数据安全 |
| TC-SEC-API-002 | XSS攻击防护 | P0 | Auto | 1. 测试环境 | 1. 输入包含脚本的内容<br>2. 保存并显示内容<br>3. 检查脚本执行 | 1. 脚本未执行<br>2. 内容被正确转义<br>3. HTML标签被过滤<br>4. 用户数据安全 | XSS防护 |
| TC-SEC-API-003 | CSRF攻击防护 | P0 | Auto | 1. 已登录用户 | 1. 构造跨域请求<br>2. 尝试执行敏感操作<br>3. 检查请求结果 | 1. 跨域请求被拒绝<br>2. CSRF token验证<br>3. 操作需要确认<br>4. 安全日志记录 | CSRF防护 |

### 11.2 数据安全

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-SEC-API-004 | 数据传输加密 | P0 | Manual | 1. 生产环境 | 1. 检查HTTPS配置<br>2. 验证证书有效性<br>3. 测试SSL评级 | 1. 强制HTTPS重定向<br>2. 有效SSL证书<br>3. TLS 1.2+ 支持<br>4. 安全评级A+ | 传输安全 |
| TC-SEC-API-005 | 敏感信息存储 | P0 | Manual | 1. 访问数据库 | 1. 检查密码存储方式<br>2. 检查API密钥存储<br>3. 检查个人信息加密 | 1. 密码使用强哈希<br>2. API密钥加密存储<br>3. 敏感字段加密<br>4. 盐值随机生成 | 存储安全 |

---

## 12. 可访问性测试用例 (A11Y)

### 12.1 键盘访问

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-A11Y-UI-001 | 键盘导航支持 | P1 | Auto | 1. 打开任意页面 | 1. 使用Tab键导航<br>2. 使用方向键操作<br>3. 使用Enter/Space激活 | 1. 焦点顺序合理<br>2. 焦点清晰可见<br>3. 所有控件可访问<br>4. 快捷键正常工作 | WCAG 2.1 AA |
| TC-A11Y-UI-002 | 屏幕阅读器兼容 | P1 | Manual | 1. 安装NVDA/JAWS | 1. 使用屏幕阅读器<br>2. 导航页面内容<br>3. 操作表单控件 | 1. 内容正确朗读<br>2. 标签关联准确<br>3. 状态变化通知<br>4. 错误信息清晰 | 无障碍访问 |

### 12.2 视觉访问

| 用例ID | 用例标题 | 优先级 | 执行类型 | 前置条件 | 测试步骤 | 预期结果 | 备注 |
|--------|----------|--------|----------|----------|----------|----------|------|
| TC-A11Y-UI-003 | 颜色对比度检查 | P1 | Auto | 1. 打开所有页面 | 1. 使用颜色对比度工具<br>2. 检查文字和背景<br>3. 检查按钮和图标 | 1. 对比度比率 ≥ 4.5:1<br>2. 大文字 ≥ 3:1<br>3. 非文本元素 ≥ 3:1<br>4. 符合WCAG标准 | 视觉可访问 |
| TC-A11Y-UI-004 | 页面缩放支持 | P1 | Auto | 1. 标准浏览器 | 1. 将页面缩放至200%<br>2. 测试所有功能<br>3. 检查布局适应性 | 1. 内容完整可见<br>2. 功能正常使用<br>3. 无水平滚动<br>4. 文字清晰可读 | 视觉支持 |

---

## 13. 测试数据管理

### 13.1 测试数据分类

| 数据类型 | 数据量 | 用途 | 更新频率 | 备注 |
|----------|--------|------|----------|------|
| 用户基础数据 | 100条 | 登录、权限测试 | 每月 | 不同角色用户 |
| 邮件测试数据 | 1000条 | 功能、性能测试 | 每周 | 不同类型邮件 |
| AI分析数据 | 500条 | 分析准确性测试 | 每月 | 标注好的样本 |
| 配置测试数据 | 50组 | 设置、规则测试 | 按需 | 各种配置组合 |
| 错误场景数据 | 200条 | 异常处理测试 | 按需 | 边界和异常情况 |

### 13.2 数据隐私保护
- 测试数据脱敏处理
- 生产数据不进入测试环境
- 个人信息使用虚拟数据
- 定期清理过期测试数据

---

## 14. 测试执行指南

### 14.1 自动化测试执行

```bash
# 前端单元测试
npm run test:unit

# 前端E2E测试
npm run test:e2e

# 后端单元测试
cd backend && pytest tests/unit/

# 后端集成测试
cd backend && pytest tests/integration/

# 完整测试套件
npm run test:all
```

### 14.2 手动测试检查清单

#### 14.2.1 发布前检查
- [ ] 登录登出功能正常
- [ ] 主要功能页面加载正常
- [ ] 数据展示准确
- [ ] 响应式设计适配良好
- [ ] 错误处理友好
- [ ] 性能表现符合标准

#### 14.2.2 浏览器兼容性检查
- [ ] Chrome (最新版本)
- [ ] Firefox (最新版本)
- [ ] Safari (最新版本)
- [ ] Edge (最新版本)
- [ ] Mobile Chrome
- [ ] Mobile Safari

---

## 15. 缺陷管理

### 15.1 缺陷严重性分级

| 严重性 | 定义 | 处理时间 | 示例 |
|--------|------|----------|------|
| Blocker | 阻塞功能，无法继续测试 | 立即 | 登录失败、系统崩溃 |
| Critical | 核心功能失败 | 4小时内 | 数据丢失、安全漏洞 |
| Major | 重要功能异常 | 24小时内 | 功能错误、性能问题 |
| Minor | 小功能问题 | 3天内 | UI问题、提示错误 |
| Trivial | 外观或建议 | 7天内 | 文字错误、布局微调 |

### 15.2 缺陷报告模板

```
标题: [模块] 简洁描述问题

环境:
- 浏览器: Chrome 120.0
- 操作系统: Windows 11
- 分辨率: 1920x1080

重现步骤:
1. 打开登录页面
2. 输入有效凭据
3. 点击登录按钮

预期结果:
成功跳转到仪表板页面

实际结果:
显示"服务器错误"页面

附加信息:
- 错误代码: 500
- 控制台错误: [详细信息]
- 截图: [附件]
```

---

## 16. 测试指标与报告

### 16.1 关键指标

| 指标 | 目标值 | 当前值 | 趋势 |
|------|--------|--------|------|
| 测试通过率 | ≥ 95% | - | - |
| 代码覆盖率 | ≥ 85% | - | - |
| 缺陷逃逸率 | ≤ 5% | - | - |
| 平均修复时间 | ≤ 2天 | - | - |
| 自动化覆盖率 | ≥ 80% | - | - |

### 16.2 测试报告结构

1. **执行摘要**
   - 测试时间、环境、版本
   - 总体通过率和问题数量
   - 关键风险和建议

2. **功能测试结果**
   - 各模块测试结果
   - 新功能验证状态
   - 回归测试结果

3. **非功能测试结果**
   - 性能测试结果
   - 安全测试结果
   - 可访问性测试结果

4. **缺陷分析**
   - 缺陷分布和趋势
   - 根本原因分析
   - 修复验证状态

5. **风险评估**
   - 发布风险评级
   - 遗留问题影响
   - 缓解措施建议

---

## 17. 附录

### 17.1 测试工具链接
- [Playwright Documentation](https://playwright.dev/)
- [Jest Testing Framework](https://jestjs.io/)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Pytest Documentation](https://pytest.org/)

### 17.2 相关文档
- [TEST_STRATEGY.md](./TEST_STRATEGY.md) - 测试策略文档
- [AUTOMATION_GUIDE.md](./AUTOMATION_GUIDE.md) - 自动化测试指南
- [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) - 故障排除指南

---

**文档版本历史**

| 版本 | 日期 | 更新内容 | 更新人 |
|------|------|----------|--------|
| 1.0 | 2024-01-15 | 初始版本创建 | TestManager Agent |

*本文档将随着项目进展持续更新和完善。*