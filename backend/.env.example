# Environment Configuration
NODE_ENV=development
PORT=3001
API_VERSION=v1

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/email_assist
DB_HOST=localhost
DB_PORT=5432
DB_NAME=email_assist
DB_USER=postgres
DB_PASSWORD=your_password

# Supabase Configuration (Production)
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379

# JWT Configuration
JWT_SECRET=your_jwt_secret_key_minimum_32_characters
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_SECRET=your_refresh_token_secret_minimum_32_characters
REFRESH_TOKEN_EXPIRES_IN=7d

# Microsoft OAuth2 Configuration
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret
MICROSOFT_TENANT_ID=common
MICROSOFT_REDIRECT_URI=http://localhost:3001/api/auth/microsoft/callback

# Microsoft Graph API
MICROSOFT_GRAPH_SCOPE=openid profile email offline_access https://graph.microsoft.com/Mail.Read https://graph.microsoft.com/Mail.Send https://graph.microsoft.com/User.Read

# Google Gmail API Configuration
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3001/api/v1/email/accounts/oauth/callback
GOOGLE_GMAIL_SCOPE=https://www.googleapis.com/auth/gmail.readonly https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/userinfo.email
GOOGLE_PROJECT_ID=your_google_project_id

# Email Service Configuration
EMAIL_SYNC_INTERVAL=15
EMAIL_BATCH_SIZE=50
EMAIL_SYNC_TIMEOUT=30000
EMAIL_WEBHOOK_SECRET=your_webhook_secret_key
EMAIL_ENCRYPTION_KEY=your_email_encryption_key

# CORS Configuration
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://your-domain.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security
BCRYPT_ROUNDS=12
SESSION_SECRET=your_session_secret_minimum_32_characters

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Email Configuration (for system notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads

# API Keys
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7
AZURE_AI_ENDPOINT=your_azure_ai_endpoint
AZURE_AI_KEY=your_azure_ai_key

# AI Analysis Configuration
AI_ANALYSIS_CACHE_TTL=3600
AI_BATCH_SIZE=10
AI_ANALYSIS_TIMEOUT=30000

# Alert Configuration (Optional)
ALERT_WEBHOOK_URL=
SLACK_WEBHOOK_URL=
ALERT_EMAIL=admin@yourcompany.com

# Application Base URL (for webhooks)
APP_BASE_URL=http://localhost:3001

# Monitoring
SENTRY_DSN=your_sentry_dsn

# =============================================
# P1.2 智能通知和提醒系统配置
# =============================================

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_CORS_ORIGIN=http://localhost:3000,http://localhost:5173
WEBSOCKET_TRANSPORTS=websocket,polling

# Notification System Configuration
NOTIFICATION_ENABLED=true
NOTIFICATION_DEFAULT_LANGUAGE=zh-CN
NOTIFICATION_QUIET_HOURS_START=22:00
NOTIFICATION_QUIET_HOURS_END=08:00
NOTIFICATION_TIMEZONE=Asia/Shanghai
NOTIFICATION_MAX_PER_HOUR=20

# Email Notification Configuration
NOTIFICATION_SMTP_HOST=smtp.gmail.com
NOTIFICATION_SMTP_PORT=587
NOTIFICATION_SMTP_SECURE=false
NOTIFICATION_SMTP_USER=your_notification_email@gmail.com
NOTIFICATION_SMTP_PASS=your_app_password
NOTIFICATION_FROM_EMAIL=Email Assist <noreply@emailassist.com>
NOTIFICATION_FROM_NAME=Email Assist

# Webhook Notification Configuration
NOTIFICATION_WEBHOOK_URL=
NOTIFICATION_WEBHOOK_SECRET=your_webhook_secret
NOTIFICATION_WEBHOOK_TIMEOUT=30000
NOTIFICATION_WEBHOOK_RETRY_ATTEMPTS=3

# SMS Notification Configuration (Optional)
NOTIFICATION_SMS_ENABLED=false
NOTIFICATION_SMS_PROVIDER=twilio
NOTIFICATION_TWILIO_ACCOUNT_SID=your_twilio_account_sid
NOTIFICATION_TWILIO_AUTH_TOKEN=your_twilio_auth_token
NOTIFICATION_TWILIO_FROM_NUMBER=+1234567890

# Notification Queue Configuration
NOTIFICATION_QUEUE_REDIS_URL=redis://localhost:6379/1
NOTIFICATION_QUEUE_MAX_ATTEMPTS=3
NOTIFICATION_QUEUE_RETRY_DELAY=60
NOTIFICATION_QUEUE_BACKOFF_MULTIPLIER=2
NOTIFICATION_QUEUE_CONCURRENCY=10

# AI-based Notification Triggers
NOTIFICATION_AI_ENABLED=true
NOTIFICATION_SENTIMENT_THRESHOLD=-0.5
NOTIFICATION_PRIORITY_THRESHOLD=0.8
NOTIFICATION_CONFIDENCE_THRESHOLD=0.7

# System Event Notifications
NOTIFICATION_SYSTEM_EVENTS=user_login,sync_completed,sync_failed,quota_exceeded
NOTIFICATION_ADMIN_EMAIL=admin@yourcompany.com

# Notification Templates
NOTIFICATION_TEMPLATE_CACHE_TTL=1800
NOTIFICATION_TEMPLATE_MAX_SIZE=100000

# Rate Limiting for Notifications
NOTIFICATION_RATE_LIMIT_ENABLED=true
NOTIFICATION_RATE_LIMIT_WINDOW=3600
NOTIFICATION_RATE_LIMIT_MAX=100

# Notification Analytics
NOTIFICATION_ANALYTICS_ENABLED=true
NOTIFICATION_ANALYTICS_RETENTION_DAYS=90
NOTIFICATION_METRICS_COLLECTION_INTERVAL=300