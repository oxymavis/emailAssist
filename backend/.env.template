# Email Assist 环境配置模板
# 复制此文件为 .env 并填入实际值

# ==================== 必需配置 ====================

# 数据库配置（本地PostgreSQL）
DB_HOST=localhost
DB_PORT=5432
DB_NAME=email_assist
DB_USER=postgres
DB_PASSWORD=postgres  # 修改为您的数据库密码

# Microsoft OAuth2（必需 - 用于连接Outlook）
# 获取方式：https://portal.azure.com/ → Azure Active Directory → 应用注册
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here
MICROSOFT_TENANT_ID=common
MICROSOFT_REDIRECT_URI=http://localhost:3001/api/auth/microsoft/callback

# OpenAI API（必需 - 用于AI邮件分析）
# 获取方式：https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo  # 或 gpt-4（更准确但更贵）

# JWT密钥（必需 - 用于用户认证）
# 可以使用命令生成：node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_at_least_32_characters_long_here
REFRESH_TOKEN_SECRET=your_refresh_token_secret_at_least_32_characters_here

# ==================== 可选配置 ====================

# Trello集成（可选）
# 获取方式：https://trello.com/power-ups/admin
TRELLO_API_KEY=
TRELLO_API_TOKEN=
TRELLO_BOARD_ID=

# Jira集成（可选）
# 获取方式：https://id.atlassian.com/manage-profile/security/api-tokens
JIRA_HOST=your-domain.atlassian.net
JIRA_EMAIL=your-email@example.com
JIRA_API_TOKEN=
JIRA_PROJECT_KEY=

# Redis缓存（可选 - 提升性能）
REDIS_URL=redis://localhost:6379

# ==================== 默认配置（通常不需要修改）====================

NODE_ENV=development
PORT=3001
API_VERSION=v1

# JWT过期时间
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# CORS配置
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# 日志级别
LOG_LEVEL=info

# 邮件同步设置
EMAIL_SYNC_INTERVAL=15
EMAIL_BATCH_SIZE=50

# AI分析设置
AI_ANALYSIS_CACHE_TTL=3600
AI_BATCH_SIZE=10
AI_ANALYSIS_TIMEOUT=30000

# 安全设置
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100